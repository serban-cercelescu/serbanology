{"ast":null,"code":"import _slicedToArray from\"/Users/anai/Desktop/serbanology/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import moment from'moment';var ListArticles=function ListArticles(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),articleList=_useState2[0],setArtList=_useState2[1];var content=[];useEffect(function(){if(articleList)return;fetch('/api/list_articles').then(function(res){return res.json();}).then(function(data){var articles=[];for(var key in data){var val=JSON.parse(data[key]);articles.push({key:key,val:val});}articles.sort(function(a,b){if(a.val.published<b.val.published)return 1;if(a.val.published===b.val.published)return 0;if(a.val.published>b.val.published)return-1;});setArtList(articles);});});if(articleList){content=articleList.map(function(art,idx){return/*#__PURE__*/React.createElement(\"li\",{key:idx},moment(art.val.published).format(\"YYYY MMM DD\"),\" - \",/*#__PURE__*/React.createElement(Link,{to:\"/article/\".concat(art.key)},art.key),\" \");});console.log(articleList);console.log(content);}return/*#__PURE__*/React.createElement(\"ul\",null,\" \",content,\" \");};export default ListArticles;","map":{"version":3,"sources":["/Users/anai/Desktop/serbanology/front/src/ListArticles/index.js"],"names":["React","useState","useEffect","Link","moment","ListArticles","articleList","setArtList","content","fetch","then","res","json","data","articles","key","val","JSON","parse","push","sort","a","b","published","map","art","idx","format","console","log"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,eACWJ,QAAQ,CAAC,CAAD,CADnB,wCAChBK,WADgB,eACHC,UADG,eAEvB,GAAIC,CAAAA,OAAO,CAAG,EAAd,CAEAN,SAAS,CAAC,UAAM,CACZ,GAAII,WAAJ,CACI,OAEJG,KAAK,CAAC,oBAAD,CAAL,CAA4BC,IAA5B,CAAiC,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAApC,EAAoDF,IAApD,CAAyD,SAAAG,IAAI,CAAI,CAC7D,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,IAAK,GAAIC,CAAAA,GAAT,GAAgBF,CAAAA,IAAhB,CAAsB,CAClB,GAAIG,CAAAA,GAAG,CAAGC,IAAI,CAACC,KAAL,CAAWL,IAAI,CAACE,GAAD,CAAf,CAAV,CACAD,QAAQ,CAACK,IAAT,CAAc,CACVJ,GAAG,CAAEA,GADK,CAEVC,GAAG,CAAEA,GAFK,CAAd,EAIH,CAEDF,QAAQ,CAACM,IAAT,CAAc,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACpB,GAAID,CAAC,CAACL,GAAF,CAAMO,SAAN,CAAkBD,CAAC,CAACN,GAAF,CAAMO,SAA5B,CACI,MAAO,EAAP,CACJ,GAAIF,CAAC,CAACL,GAAF,CAAMO,SAAN,GAAoBD,CAAC,CAACN,GAAF,CAAMO,SAA9B,CACI,MAAO,EAAP,CACJ,GAAIF,CAAC,CAACL,GAAF,CAAMO,SAAN,CAAkBD,CAAC,CAACN,GAAF,CAAMO,SAA5B,CACI,MAAO,CAAC,CAAR,CACP,CAPD,EASAhB,UAAU,CAACO,QAAD,CAAV,CACH,CApBD,EAqBH,CAzBQ,CAAT,CA2BA,GAAIR,WAAJ,CAAiB,CACbE,OAAO,CAAGF,WAAW,CAACkB,GAAZ,CAAgB,SAACC,GAAD,CAAMC,GAAN,qBAAc,0BAAI,GAAG,CAAEA,GAAT,EAAetB,MAAM,CAACqB,GAAG,CAACT,GAAJ,CAAQO,SAAT,CAAN,CAA0BI,MAA1B,CAAiC,aAAjC,CAAf,oBAAkE,oBAAC,IAAD,EAAM,EAAE,oBAAcF,GAAG,CAACV,GAAlB,CAAR,EAAkCU,GAAG,CAACV,GAAtC,CAAlE,KAAd,EAAhB,CAAV,CACAa,OAAO,CAACC,GAAR,CAAYvB,WAAZ,EACAsB,OAAO,CAACC,GAAR,CAAYrB,OAAZ,EACH,CAED,mBAAQ,kCAAMA,OAAN,KAAR,CACH,CAtCD,CAwCA,cAAeH,CAAAA,YAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport moment from 'moment';\n\nconst ListArticles = () => {\n    const [articleList, setArtList] = useState(0);\n    let content = [];\n\n    useEffect(() => {\n        if (articleList)\n            return;\n\n        fetch('/api/list_articles').then(res => res.json()).then(data => {\n            let articles = [];\n            for (var key in data) {\n                let val = JSON.parse(data[key]);\n                articles.push({\n                    key: key,\n                    val: val\n                });\n            }\n\n            articles.sort((a, b) => {\n                if (a.val.published < b.val.published)\n                    return 1;\n                if (a.val.published === b.val.published)\n                    return 0;\n                if (a.val.published > b.val.published)\n                    return -1;\n            });\n\n            setArtList(articles);\n        });\n    });\n\n    if (articleList) {\n        content = articleList.map((art, idx) => <li key={idx}>{moment(art.val.published).format(\"YYYY MMM DD\")} - <Link to={`/article/${art.key}`}>{art.key}</Link> </li>);\n        console.log(articleList);\n        console.log(content);\n    }\n\n    return (<ul> {content} </ul>);\n}\n\nexport default ListArticles;\n"]},"metadata":{},"sourceType":"module"}