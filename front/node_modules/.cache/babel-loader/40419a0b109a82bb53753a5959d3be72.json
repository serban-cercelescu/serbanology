{"ast":null,"code":"var _jsxFileName = \"/Users/anai/Desktop/serbanology/front/src/Components/Highlight/index.js\";\nimport React, { Component } from 'react';\nimport hljs from 'highlight.js/lib/core';\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport python from 'highlight.js/lib/languages/python';\nimport 'highlight.js/styles/github.css';\nhljs.registerLanguage('javascript', javascript);\nhljs.registerLanguage('python', python);\nhljs.configure({\n  languages: [\"javascript\", \"python\"],\n  classPrefix: \"\"\n});\nhljs.initHighlighting();\nconsole.log(hljs.listLanguages());\n\nclass Highlight extends Component {\n  constructor(props) {\n    super(props);\n\n    this.highlight = () => {\n      if (this.nodeRef) {\n        const nodes = this.nodeRef.current.querySelectorAll('pre');\n        nodes.forEach(node => {\n          hljs.highlightBlock(node);\n        });\n      }\n    };\n\n    this.nodeRef = new React.createRef();\n    const langClass = this.props.language === undefined ? \"\" : this.props.language.reduce((accumulator, currentValue) => accumulator + currentValue + \" \", \"\");\n    this.state = {\n      content: \"\",\n      langClass: langClass\n    };\n  }\n\n  componentDidMount() {\n    fetch(`http://${window.HOST}/cdn/` + this.props.source).then(res => res.text()).then(data => this.setState({\n      content: data\n    }));\n  }\n\n  componentDidUpdate() {\n    this.highlight();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.nodeRef,\n      dangerouslySetInnerHTML: {\n        __html: this.state.content\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default Highlight;","map":{"version":3,"sources":["/Users/anai/Desktop/serbanology/front/src/Components/Highlight/index.js"],"names":["React","Component","hljs","javascript","python","registerLanguage","configure","languages","classPrefix","initHighlighting","console","log","listLanguages","Highlight","constructor","props","highlight","nodeRef","nodes","current","querySelectorAll","forEach","node","highlightBlock","createRef","langClass","language","undefined","reduce","accumulator","currentValue","state","content","componentDidMount","fetch","window","HOST","source","then","res","text","data","setState","componentDidUpdate","render","__html"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,UAAP,MAAuB,uCAAvB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AAEA,OAAO,gCAAP;AAEAF,IAAI,CAACG,gBAAL,CAAsB,YAAtB,EAAoCF,UAApC;AACAD,IAAI,CAACG,gBAAL,CAAsB,QAAtB,EAAgCD,MAAhC;AACAF,IAAI,CAACI,SAAL,CAAe;AACXC,EAAAA,SAAS,EAAE,CAAC,YAAD,EAAe,QAAf,CADA;AAEXC,EAAAA,WAAW,EAAE;AAFF,CAAf;AAIAN,IAAI,CAACO,gBAAL;AACAC,OAAO,CAACC,GAAR,CAAYT,IAAI,CAACU,aAAL,EAAZ;;AAEA,MAAMC,SAAN,SAAwBZ,SAAxB,CAAkC;AAC9Ba,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAenBC,SAfmB,GAeP,MAAM;AACd,UAAI,KAAKC,OAAT,EAAkB;AACd,cAAMC,KAAK,GAAG,KAAKD,OAAL,CAAaE,OAAb,CAAqBC,gBAArB,CAAsC,KAAtC,CAAd;AACAF,QAAAA,KAAK,CAACG,OAAN,CAAeC,IAAD,IAAU;AACpBpB,UAAAA,IAAI,CAACqB,cAAL,CAAoBD,IAApB;AACH,SAFD;AAGH;AACJ,KAtBkB;;AAGf,SAAKL,OAAL,GAAe,IAAIjB,KAAK,CAACwB,SAAV,EAAf;AAEA,UAAMC,SAAS,GAAI,KAAKV,KAAL,CAAWW,QAAX,KAAwBC,SAAxB,GACf,EADe,GAEf,KAAKZ,KAAL,CAAWW,QAAX,CAAoBE,MAApB,CAA4B,CAACC,WAAD,EAAcC,YAAd,KAAgCD,WAAW,GAAGC,YAAd,GAA6B,GAAzF,EAAgG,EAAhG,CAFJ;AAIA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,EADA;AAETP,MAAAA,SAAS,EAAEA;AAFF,KAAb;AAIH;;AAWDQ,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,KAAK,CAAE,UAASC,MAAM,CAACC,IAAK,OAAtB,GAA+B,KAAKrB,KAAL,CAAWsB,MAA3C,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMG,IAAI,IAAI,KAAKC,QAAL,CAAc;AAACV,MAAAA,OAAO,EAAES;AAAV,KAAd,CAFd;AAGH;;AAEDE,EAAAA,kBAAkB,GAAG;AACjB,SAAK3B,SAAL;AACH;;AAED4B,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,GAAG,EAAE,KAAK3B,OAAf;AAAwB,MAAA,uBAAuB,EAAE;AAAE4B,QAAAA,MAAM,EAAE,KAAKd,KAAL,CAAWC;AAArB,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAGH;;AAvC6B;;AA0ClC,eAAenB,SAAf","sourcesContent":["import React, {Component} from 'react';\nimport hljs from 'highlight.js/lib/core';\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport python from 'highlight.js/lib/languages/python';\n\nimport 'highlight.js/styles/github.css';\n\nhljs.registerLanguage('javascript', javascript);\nhljs.registerLanguage('python', python);\nhljs.configure({\n    languages: [\"javascript\", \"python\"],\n    classPrefix: \"\",\n});\nhljs.initHighlighting();\nconsole.log(hljs.listLanguages());\n\nclass Highlight extends Component {\n    constructor(props) {\n        super(props);\n\n        this.nodeRef = new React.createRef();\n\n        const langClass = (this.props.language === undefined ?\n            \"\" :\n            this.props.language.reduce(((accumulator, currentValue) => (accumulator + currentValue + \" \")), \"\"));\n\n        this.state = {\n            content: \"\",\n            langClass: langClass,\n        }\n    }\n\n    highlight = () => {\n        if (this.nodeRef) {\n            const nodes = this.nodeRef.current.querySelectorAll('pre');\n            nodes.forEach((node) => {\n                hljs.highlightBlock(node);\n            });\n        }\n    }\n\n    componentDidMount() {\n        fetch(`http://${window.HOST}/cdn/` + this.props.source)\n        .then(res => res.text())\n        .then(data => this.setState({content: data}));\n    }\n    \n    componentDidUpdate() {\n        this.highlight();\n    }\n\n    render() {\n        return (\n            <div ref={this.nodeRef} dangerouslySetInnerHTML={{ __html: this.state.content }} />\n        );\n    }\n}\n\nexport default Highlight;\n"]},"metadata":{},"sourceType":"module"}